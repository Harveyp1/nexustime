<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusTime App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #111827; color: #E5E7EB; }
        .cta-button { transition: all 0.3s ease; background-color: #34D399; color: #111827; }
        .cta-button:disabled { background-color: #374151; color: #9CA3AF; cursor: not-allowed; }
        .secondary-button { background-color: transparent; border: 1px solid #34D399; color: #34D399; transition: all 0.3s ease; }
        .danger-button { background-color: #EF4444; color: white; transition: all 0.3s ease; }
        .danger-button:hover { background-color: #DC2626; }
        .card { background-color: #1F2937; border: 1px solid #374151; }
        .header { background-color: rgba(17, 24, 39, 0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #374151; }
        .page { display: none; animation: page-fade-in 0.5s ease-in-out; }
        .page.active { display: block; }
        .form-input, .form-select, .form-textarea { background-color: #1F2937; border: 1px solid #374151; color: #E5E7EB; border-radius: 0.5rem; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #34D399; box-shadow: 0 0 0 2px rgba(52, 211, 153, 0.5); }
        .form-input:disabled, .form-textarea:disabled { background-color: #374151; cursor: not-allowed; }
        .modal-overlay { display: flex; opacity: 0; pointer-events: none; transition: opacity 0.3s ease-in-out; background-color: rgba(17, 24, 39, 0.8); backdrop-filter: blur(4px); position: fixed; inset: 0; z-index: 50; align-items: center; justify-content: center; }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }
        .modal-overlay > div { transform: scale(0.95); transition: transform 0.3s ease-in-out; }
        .modal-overlay.active > div { transform: scale(1); }
        .tab-button { border-bottom: 2px solid transparent; transition: all 0.2s ease-in-out; }
        .tab-button.active { color: #34D399; border-bottom-color: #34D399; }
        .status-badge { padding: 0.125rem 0.5rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; }
        .status-active, .status-approved, .status-completed { background-color: #10B981; color: white; }
        .status-inactive { background-color: #6B7280; color: white; }
        .status-pending { background-color: #F59E0B; color: white; }
        .status-denied { background-color: #EF4444; color: white; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #34D399; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 2rem auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .manage-list-item { cursor: pointer; transition: background-color 0.2s, transform 0.2s; animation: list-fade-in 0.5s ease-out forwards; opacity: 0; }
        .manage-list-item:hover, .manage-list-item.selected { background-color: #374151; transform: scale(1.02); }
        .toast { position: fixed; bottom: 20px; right: 20px; background-color: #1F2937; color: white; padding: 1rem 1.5rem; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); z-index: 100; opacity: 0; transform: translateY(20px); transition: all 0.3s ease-in-out; border-left: 4px solid; }
        .toast.show { opacity: 1; transform: translateY(0); }
        .toast.success { border-color: #34D399; }
        .toast.error { border-color: #F87171; }
        .workspace-card { transition: all 0.2s ease-in-out; }
        .workspace-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .workspace-card.active-workspace { border-color: #34D399; box-shadow: 0 0 0 2px rgba(52, 211, 153, 0.5); }
        .task-item.completed { text-decoration: line-through; color: #6B7280; }
        .nav-link { display: flex; align-items: center; padding: 0.5rem 1rem; border-radius: 0.5rem; transition: background-color 0.2s; }
        .nav-link:hover, .nav-link.active { background-color: #374151; color: #34D399; }
        .nav-link svg { margin-right: 0.75rem; }
        @keyframes page-fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes list-fade-in { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        @media print {
            body { background-color: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            body * { visibility: hidden; }
            #pay-stub-content, #pay-stub-content * { visibility: visible; }
            #pay-stub-content { position: absolute; left: 0; top: 0; width: 100%; color: #111827; }
            @page { size: auto; margin: 20px; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Header -->
    <header class="header sticky top-0 z-40">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="app.html" class="flex-shrink-0">
                        <img src="https://raw.githubusercontent.com/Harveyp1/nexustime/main/nexustimelogo.png" alt="NexusTime Logo" class="h-10" onerror="this.onerror=null; this.src='https://placehold.co/160x40/111827/34D399?text=NexusTime';">
                    </a>
                </div>
                <div class="hidden md:block">
                    <nav id="app-nav-desktop" class="ml-10 flex items-baseline space-x-4">
                        <!-- Desktop Nav Links will be injected here -->
                    </nav>
                </div>
                 <div class="hidden md:block">
                    <button id="logout-button-desktop" class="secondary-button px-4 py-2 rounded-lg text-sm font-medium">Log Out</button>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button id="mobile-menu-button" type="button" class="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div class="md:hidden hidden" id="mobile-menu">
            <nav id="app-nav-mobile" class="px-2 pt-2 pb-3 space-y-1 sm:px-3"></nav>
            <div class="pt-4 pb-3 border-t border-gray-700">
                <div class="px-2">
                    <button id="logout-button-mobile" class="w-full text-left secondary-button px-4 py-2 rounded-lg text-sm font-medium">Log Out</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div id="loading" class="page active">
            <div class="loader"></div>
            <p class="text-center text-gray-400">Loading Application...</p>
        </div>

        <div id="onboarding" class="page">
            <section class="py-12"><div id="onboarding-container" class="max-w-2xl mx-auto card p-8 rounded-xl"></div></section>
        </div>

        <div id="company-selection" class="page">
            <section class="py-20">
                <div class="container mx-auto px-6">
                    <div class="flex flex-col md:flex-row justify-between items-start mb-12">
                        <div class="text-center md:text-left">
                            <h2 class="text-4xl font-bold text-white">Select a Workspace</h2>
                            <p class="text-gray-400 mt-2">Choose which workspace you want to manage.</p>
                        </div>
                        <div id="plan-stat-card" class="card p-4 mt-6 md:mt-0"></div>
                    </div>
                    <div id="workspace-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                </div>
            </section>
        </div>

        <div id="dashboard" class="page">
            <section class="py-12"><div class="container mx-auto px-6"><div id="dashboard-content"></div></div></section>
        </div>
        
        <div id="manage" class="page">
            <section class="py-12">
                <div class="container mx-auto px-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-3xl font-bold text-white">Manage Workspace</h2>
                        <button id="add-new-button" class="cta-button px-4 py-2 rounded-lg text-sm"></button>
                    </div>
                    <div class="border-b border-gray-700 mb-4">
                        <nav class="flex space-x-8" id="manage-tabs">
                            <button data-tab="employees" class="tab-button py-4 px-1 font-medium text-lg active">Employees</button>
                            <button data-tab="projects" class="tab-button py-4 px-1 font-medium text-lg">Projects</button>
                        </nav>
                    </div>
                    <div id="manage-main-content" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div id="manage-sidebar" class="md:col-span-1 card p-6"></div>
                        <div id="manage-content" class="md:col-span-2"></div>
                    </div>
                </div>
            </section>
        </div>
        
        <div id="time-off" class="page">
             <section class="py-12"><div id="time-off-container" class="container mx-auto px-6"></div></section>
        </div>

        <div id="pay-stubs" class="page">
             <section class="py-12"><div id="pay-stubs-container" class="container mx-auto px-6"></div></section>
        </div>

        <div id="tasks" class="page">
             <section class="py-12"><div class="container mx-auto px-6"><div id="tasks-container"></div></div></section>
        </div>
    </main>

    <!-- Modals -->
    <div id="pay-stub-modal" class="modal-overlay" role="dialog" aria-modal="true"><div class="card rounded-lg shadow-xl m-4 max-w-4xl w-full max-h-[90vh] flex flex-col"><div class="p-4 border-b border-gray-700 flex justify-between items-center"><h3 class="text-xl font-semibold text-white">Pay Stub</h3><button class="text-gray-400 hover:text-white text-3xl close-modal-btn">&times;</button></div><div id="pay-stub-content" class="p-8 overflow-y-auto bg-white text-gray-800"></div><div class="p-4 border-t border-gray-700 flex justify-end"><button id="print-pay-stub-btn" class="cta-button px-4 py-2 rounded-lg">Print</button></div></div></div>
    <div id="request-time-off-modal" class="modal-overlay" role="dialog" aria-modal="true"><div class="card rounded-lg shadow-xl m-8 max-w-lg w-full"><div class="p-6 border-b border-gray-700 flex justify-between items-center"><h3 class="text-xl font-semibold text-white">Request Time Off</h3><button class="text-gray-400 hover:text-white text-3xl close-modal-btn">&times;</button></div><form id="request-time-off-form" class="p-6 space-y-4"></form></div></div>
    <div id="create-task-modal" class="modal-overlay" role="dialog" aria-modal="true"><div class="card rounded-lg shadow-xl m-8 max-w-lg w-full"><div class="p-6 border-b border-gray-700 flex justify-between items-center"><h3 class="text-xl font-semibold text-white">Create New Task</h3><button class="text-gray-400 hover:text-white text-3xl close-modal-btn">&times;</button></div><form id="create-task-form" class="p-6 space-y-4"></form></div></div>
    <div id="add-employee-modal" class="modal-overlay" role="dialog" aria-modal="true"><div class="card rounded-lg shadow-xl m-8 max-w-3xl w-full"><div class="p-4 border-b border-gray-700 flex justify-between items-center"><h3 class="text-xl font-semibold text-white">Add New Employee</h3><button class="text-gray-400 hover:text-white text-3xl close-modal-btn">&times;</button></div><form id="add-employee-form" class="p-4 md:p-6"></form></div></div>
    <div id="edit-employee-modal" class="modal-overlay" role="dialog" aria-modal="true"><div class="card rounded-lg shadow-xl m-8 max-w-3xl w-full"><div class="p-4 border-b border-gray-700 flex justify-between items-center"><h3 class="text-xl font-semibold text-white">Edit Employee</h3><button class="text-gray-400 hover:text-white text-3xl close-modal-btn">&times;</button></div><form id="edit-employee-form" class="p-4 md:p-6"></form></div></div>
    <div id="project-modal" class="modal-overlay" role="dialog" aria-modal="true"><div class="card rounded-lg shadow-xl m-8 max-w-lg w-full"><div class="p-6 border-b border-gray-700 flex justify-between items-center"><h3 id="project-modal-title-text" class="text-xl font-semibold text-white"></h3><button class="text-gray-400 hover:text-white text-3xl close-modal-btn">&times;</button></div><form id="project-form" class="p-6 space-y-4"></form></div></div>
    <div id="toast-container"></div>

    <script type="module" src="app.js"></script>
</body>
</html>